version: 2

models:
    - name: claim_data_integrity
      config:
        database: "{{ var('output_database') }}"
        schema: "{{ var('output_schema') }}"
      description: >
        Overview of checks ran on every column in every source table: missing, 
        blank, uniqueness, date checks, and valid value checks.

      columns:
        - name: table_name
          description: The name of the table

        - name: column_name
          description: The name of the column

        - name: data_type
          description: The data type of the column

        - name: table_total
          description: Total row count for the table

        - name: max_column_length
          description: Max length for values in the column

        - name: missing_values
          description: Total count of missing (or null) values in the column

        - name: missing_percentage
          description:  Percentage of missing (or null) values in the column

        - name: blank_values
          description: Total count of blank (or '') values in the column

        - name: blank_percentage
          description: Percentage of blank (or '') values in the column

        - name: unique_values
          description: Total count of unique values in the column

        - name: unique_percentage
          description: Percentage of unique values in the column
